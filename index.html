<!DOCTYPE html>
<html>
  <head>
	<style>
		body {margin: 0; }
		canvas {width: 100%; height: 100%; };
	</style>
  </head>
  <body>
    <script src="js/three.js"></script>
	<script src="js/OrbitControls.js"></script>
	<script src="js/GLTFLoader.js"></script>
    <script>
		var scene = new THREE.Scene( );
		var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000);			
		camera.rotation.y = 45/180*Math.PI;
        camera.position.x = 800;
        camera.position.y = 100;
        camera.position.z = 1000;
		
		var renderer = new THREE.WebGLRenderer( {antialias:true});
		renderer.setSize(window.innerWidth, window.innerHeight );
		document.body.appendChild( renderer.domElement);
		
		window.addEventListener( 'resize', function ()
		{
			var width = window.innerWidth;
			var height = window.innerHeight;
			renderer.setSize( width, height);
			camera.aspect = width/height;
			camera.updateProjectionMatrix();
		}		)
		
		controls = new THREE.OrbitControls(camera, renderer.domElement);
		controls.addEventListener('change', renderer);
		
		//create the shape
		//var geometry = new THREE.BoxGeometry ( 1, 1, 1);

		
		//create a matrial, color, image texture
		//var material = new THREE.MeshBasicMaterial( {color:0xFFFFFF, wireframe: true});
		//var material = new THREE.MeshFaceMaterial( geometry, material);
		//var cube = new THREE.Mesh( geometry, material);
		var ambientLight = new THREE.AmbientLight (0x404040,100);
        scene.add(ambientLight);

        var directionalLight = new THREE.DirectionalLight(0xffffff,100);
        directionalLight.position.set(0,1,0);
        directionalLight.castShadow = true;
        scene.add(directionalLight);
        var light = new THREE.PointLight(0xc4c4c4,10);
        light.position.set(0,300,500);
        scene.add(light);
        var light2 = new THREE.PointLight(0xc4c4c4,10);
        light2.position.set(500,100,0);
        scene.add(light2);
        var light3 = new THREE.PointLight(0xc4c4c4,10);
        light3.position.set(0,100,-500);
        scene.add(light3);
        var light4 = new THREE.PointLight(0xc4c4c4,10);
        light4.position.set(-500,300,500);
        scene.add(light4);
		
		//var ambientLight = new THREE.AmbientLight( 0xFFFFFF, 5.0);
		
		var loader = new THREE.GLTFLoader();
        loader.load('scene.gltf', function(gltf){
          car = gltf.scene.children[0];
          car.scale.set(0.5,0.5,0.5);
          scene.add(gltf.scene);
          GameLoop( );
        });
		
		// game logic
		var update = function()
		{
			//cube.rotation.x += 0.01;
			//cube.rotation.y += 0.005;
		};
		
		var render = function()
		{
			renderer.render( scene, camera);
		};
		
		//recurssive game loop
		var GameLoop = function()
		{
			update( );
			render( );
			requestAnimationFrame( GameLoop);
		};
		
		
    </script>
  </body>
</html>